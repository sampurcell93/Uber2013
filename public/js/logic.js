// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var Movie, Movies, cc, geocoder, getLatLng, movies;
    cc = function() {
      return _.each(arguments, function(arg) {
        return console.log(arg);
      });
    };
    console.log(window.location_data);
    geocoder = new google.maps.Geocoder();
    Movie = Backbone.Model.extend({
      defaults: function() {
        return {
          locations: "Sorry, we don't have a location on record for this movie."
        };
      },
      parse: function(response) {
        if (response.locations != null) {
          console.count(typeof window.location_data[response.locations] !== "undefined");
        }
        return response;
      }
    });
    Movies = Backbone.Collection.extend({
      url: 'http://data.sfgov.org/resource/yitu-d5am.json',
      model: Movie
    });
    getLatLng = function(address) {
      return $.ajax({
        url: "http://maps.googleapis.com/maps/api/geocode/json?&sensor=true&key=AIzaSyBoS1bfOyPBTbYH1GhtD4xRs9XrT17nGwg&address=" + address,
        type: "GET",
        dataType: 'json',
        success: function(json) {
          var orig;
          orig = json;
          json = json.results[0];
          if (json != null) {
            console.group(json.formatted_address);
            console.log("Lat:" + json.geometry.location.lat);
            console.log("Long:" + json.geometry.location.lng);
            console.count("Address number");
            console.groupEnd();
            return jumptable[address] = {
              lat: json.geometry.location.lat,
              lng: json.geometry.location.lng
            };
          } else {
            return cc(orig);
          }
        }
      });
    };
    movies = new Movies;
    return movies.fetch({
      success: function(coll) {
        return cc(coll.length);
      }
    });
  });

}).call(this);
