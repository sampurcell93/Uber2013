// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var Movie, Movies, cc, geocoder, movies;
    cc = function() {
      return _.each(arguments, function(arg) {
        return console.log(arg);
      });
    };
    geocoder = new google.maps.Geocoder();
    Movie = Backbone.Model.extend({
      defaults: function() {
        return {
          locations: "Sorry, we don't have a location on record for this movie."
        };
      },
      parse: function(response) {
        var self;
        self = this;
        if (!(response.locations == null)) {
          cc("HAS LOCATION");
          geocoder.geocode({
            'address': response.locations
          }, function(results, status) {
            if (status === google.maps.GeocoderStatus.OK) {
              self.lat = results[0].geometry.location.lat();
              self.long = results[0].geometry.location.lng();
              return cc(self.lat, self.long);
            } else {
              return cc(status);
            }
          });
        }
        return response;
      }
    });
    Movies = Backbone.Collection.extend({
      url: 'http://data.sfgov.org/resource/yitu-d5am.json',
      model: Movie
    });
    movies = new Movies(data);
    return movies.fetch({
      success: function(coll) {}
    });
  });

}).call(this);
